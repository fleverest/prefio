<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Structures for Preference Data • prefio</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Structures for Preference Data">
<meta name="description" content='Convenient structures for creating, sourcing, reading, writing and manipulating ordinal preference data. Methods for writing to/from PrefLib formats. See Nicholas Mattei and Toby Walsh "PrefLib: A Library of Preference Data" (2013) &lt;doi:10.1007/978-3-642-41575-3_20&gt;.'>
<meta property="og:description" content='Convenient structures for creating, sourcing, reading, writing and manipulating ordinal preference data. Methods for writing to/from PrefLib formats. See Nicholas Mattei and Toby Walsh "PrefLib: A Library of Preference Data" (2013) &lt;doi:10.1007/978-3-642-41575-3_20&gt;.'>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">prefio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fleverest/prefio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="prefio-">
<a href="https://fleverest.github.io/prefio/">prefio</a> <img src="reference/figures/prefio.svg" width="160" align="right" alt="prefio hex sticker"><a class="anchor" aria-label="anchor" href="#prefio-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Preferential datasets are used by many research communities including, but not limited to, those who work with elections, recommender systems, computational social choice, and combinatorial optimization.</p>
<p><strong>prefio</strong> provides a tidy format for dealing with preferences, along with a set of functions which enable users to perform a wide range of analyses.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package may be installed from CRAN via</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"prefio"</span><span class="op">)</span></span></code></pre></div>
<p>The development version can be installed via</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"fleverest/prefio"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p><strong>prefio</strong> provides a tidy interface for processing data from tabular formats as well as sourcing data from one of the unified <a href="https://preflib.org/format" class="external-link">PrefLib formats</a>, including a convenient method for downloading data files directly from PrefLib to your R session.</p>
<div class="section level4">
<h4 id="casting-from-character-vectors">Casting from character vectors<a class="anchor" aria-label="anchor" href="#casting-from-character-vectors"></a>
</h4>
<p>The easiest way to try things out is to write preferences as strings, then cast to preferences. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/preferences.html">preferences</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Apple &gt; Banana &gt; Carrot"</span>, <span class="st">"Carrot &gt; Banana = Apple"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="do">## [1] [Apple &gt; Banana &gt; Carrot] [Carrot &gt; Banana = Apple]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="processing-long-format-data">Processing long-format data<a class="anchor" aria-label="anchor" href="#processing-long-format-data"></a>
</h4>
<p>Preferential datasets can come in many forms. A very common way for preferential datasets to be stored is in a long-format with item/rank columns. For example, consider a dataset of votes</p>
<table class="table">
<thead><tr class="header">
<th align="right">ID</th>
<th align="left">VoterLocation</th>
<th align="left">Candidate</th>
<th align="right">Rank</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Melbourne</td>
<td align="left">Allie</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">Melbourne</td>
<td align="left">Beatriz</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Melbourne</td>
<td align="left">Charles</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Wangaratta</td>
<td align="left">Allie</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">Wangaratta</td>
<td align="left">Beatriz</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Wangaratta</td>
<td align="left">Charles</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Geelong</td>
<td align="left">Allie</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">Geelong</td>
<td align="left">Beatriz</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Geelong</td>
<td align="left">Charles</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>Three preferential votes, ranking three candidates in long-format.</p>
<p>Here, we summarise the votes in a new column of type <code>preferences</code>.</p>
<p>Note that, since we are just gathering preferential data from across multiple rows here, the syntax is quite similar to <code>dplyr::pivot_wider</code>. Indeed, the function is based on this, and extra arguments will be passed directly to <code>dplyr::pivot_wider</code> via <code>...</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">long</span> <span class="op">&lt;-</span> <span class="fu">tribble</span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">ID</span>, <span class="op">~</span><span class="va">VoterLocation</span>, <span class="op">~</span><span class="va">Candidate</span>, <span class="op">~</span><span class="va">Rank</span>,</span>
<span>  <span class="fl">1</span>, <span class="st">"Melbourne"</span>, <span class="st">"Allie"</span>, <span class="fl">1</span>,</span>
<span>  <span class="fl">1</span>, <span class="st">"Melbourne"</span>, <span class="st">"Beatriz"</span>, <span class="fl">2</span>,</span>
<span>  <span class="fl">1</span>, <span class="st">"Melbourne"</span>, <span class="st">"Charles"</span>, <span class="fl">3</span>,</span>
<span>  <span class="fl">2</span>, <span class="st">"Wangaratta"</span>, <span class="st">"Allie"</span>, <span class="fl">3</span>,</span>
<span>  <span class="fl">2</span>, <span class="st">"Wangaratta"</span>, <span class="st">"Beatriz"</span>, <span class="fl">2</span>,</span>
<span>  <span class="fl">2</span>, <span class="st">"Wangaratta"</span>, <span class="st">"Charles"</span>, <span class="fl">1</span>,</span>
<span>  <span class="fl">3</span>, <span class="st">"Geelong"</span>, <span class="st">"Allie"</span>, <span class="fl">2</span>,</span>
<span>  <span class="fl">3</span>, <span class="st">"Geelong"</span>, <span class="st">"Beatriz"</span>, <span class="fl">1</span>,</span>
<span>  <span class="fl">3</span>, <span class="st">"Geelong"</span>, <span class="st">"Charles"</span>, <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">long</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/preferences.html">long_preferences</a></span><span class="op">(</span></span>
<span>    <span class="va">vote</span>,</span>
<span>    id_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">VoterLocation</span><span class="op">)</span>,</span>
<span>    rank_col <span class="op">=</span> <span class="va">Rank</span>,</span>
<span>    item_col <span class="op">=</span> <span class="va">Candidate</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="do">##      ID VoterLocation                        vote</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;                          &lt;prefrncs&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="do">## 1     1 Melbourne     [Allie &gt; Beatriz &gt; Charles]</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="do">## 2     2 Wangaratta    [Charles &gt; Beatriz &gt; Allie]</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="do">## 3     3 Geelong       [Beatriz &gt; Allie &gt; Charles]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="processing-wide-format-data">Processing wide-format data<a class="anchor" aria-label="anchor" href="#processing-wide-format-data"></a>
</h4>
<p>Another common way to store preferential data is in wide-format, where each column represents a candidate/item and the values represent the rank assigned. Let’s recreate our previous example but in wide-format:</p>
<table class="table">
<thead><tr class="header">
<th align="right">ID</th>
<th align="left">VoterLocation</th>
<th align="right">Allie</th>
<th align="right">Beatriz</th>
<th align="right">Charles</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Melbourne</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Wangaratta</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Geelong</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>Three preferential votes, ranking three candidates in wide-format.</p>
<p>Here, we summarise the votes in a new column of type <code>preferences</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wide</span> <span class="op">&lt;-</span> <span class="fu">tribble</span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">ID</span>, <span class="op">~</span><span class="va">VoterLocation</span>, <span class="op">~</span><span class="va">Allie</span>, <span class="op">~</span><span class="va">Beatriz</span>, <span class="op">~</span><span class="va">Charles</span>,</span>
<span>  <span class="fl">1</span>, <span class="st">"Melbourne"</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>,</span>
<span>  <span class="fl">2</span>, <span class="st">"Wangaratta"</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>,</span>
<span>  <span class="fl">3</span>, <span class="st">"Geelong"</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wide</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/preferences.html">wide_preferences</a></span><span class="op">(</span><span class="va">vote</span>, <span class="va">Allie</span><span class="op">:</span><span class="va">Charles</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="do">##      ID VoterLocation                        vote</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="do">##   &lt;dbl&gt; &lt;chr&gt;                          &lt;prefrncs&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="do">## 1     1 Melbourne     [Allie &gt; Beatriz &gt; Charles]</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="do">## 2     2 Wangaratta    [Charles &gt; Beatriz &gt; Allie]</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="do">## 3     3 Geelong       [Beatriz &gt; Allie &gt; Charles]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="reading-from-preflib">Reading from PrefLib<a class="anchor" aria-label="anchor" href="#reading-from-preflib"></a>
</h4>
<p>The <a href="https://en.wikipedia.org/wiki/Netflix_Prize" class="external-link">Netflix Prize</a> was a competition devised by Netflix to improve the accuracy of its recommendation system. To facilitate this they released ratings about movies from the users of the system that have been transformed to preference data and are available from <a href="https://www.preflib.org/data/ED/00004/" class="external-link">PrefLib</a>, (Bennett and Lanning 2007). Each data set comprises rankings of a set of 3 or 4 movies selected at random. Here we consider rankings for just one set of movies to illustrate the functionality of <strong>prefio</strong>.</p>
<p>PrefLib datafiles such as these can be downloaded on-the-fly by specifying the argument <code>from_preflib = TRUE</code> in the <code>read_preflib</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">netflix</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_preflib.html">read_preflib</a></span><span class="op">(</span><span class="st">"00004 - netflix/00004-00000138.soc"</span>, from_preflib <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">netflix</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="do">## # A tibble: 6 × 2</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="do">##                                                                     preferences</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="do">##                                                                      &lt;prefrncs&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="do">## 1 [Beverly Hills Cop &gt; Mean Girls &gt; Mission: Impossible II &gt; The Mummy Returns]</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="do">## 2 [Mean Girls &gt; Beverly Hills Cop &gt; Mission: Impossible II &gt; The Mummy Returns]</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="do">## 3 [Beverly Hills Cop &gt; Mean Girls &gt; The Mummy Returns &gt; Mission: Impossible II]</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="do">## 4 [Mean Girls &gt; Beverly Hills Cop &gt; The Mummy Returns &gt; Mission: Impossible II]</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="do">## 5 [Beverly Hills Cop &gt; Mission: Impossible II &gt; Mean Girls &gt; The Mummy Returns]</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="do">## 6 [The Mummy Returns &gt; Beverly Hills Cop &gt; Mean Girls &gt; Mission: Impossible II]</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="do">## # ℹ 1 more variable: frequency &lt;int&gt;</span></span></code></pre></div>
<p>Each row corresponds to a unique ordering of the four movies in the dataset. The number of Netflix users that assigned each ordering is given in the <code>frequency</code> column. In this case, the most common ordering (with 68 voters specifying the same preferences) is the following:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">netflix</span><span class="op">$</span><span class="va">preferences</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="do">## [1] [Beverly Hills Cop &gt; Mean Girls &gt; Mission: Impossible II &gt; The Mummy Returns]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="writing-to-preflib-formats">Writing to Preflib formats<a class="anchor" aria-label="anchor" href="#writing-to-preflib-formats"></a>
</h4>
<p><strong>prefio</strong> provides a convenient interface for writing preferential datasets to PrefLib formats. To aid the user, the <code><a href="reference/preferences.html">preferences()</a></code> function automatically calculates metrics of the dataset which are required for producing valid PrefLib files. For example, we can write our example from earlier to a PrefLib format:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">long</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/preferences.html">long_preferences</a></span><span class="op">(</span></span>
<span>    <span class="va">vote</span>,</span>
<span>    id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>    rank_col <span class="op">=</span> <span class="va">Rank</span>,</span>
<span>    item_col <span class="op">=</span> <span class="va">Candidate</span>,</span>
<span>    unused_fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>VoterLocation <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">first</a></span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/write_preflib.html">write_preflib</a></span><span class="op">(</span>preferences_col <span class="op">=</span> <span class="va">vote</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="do">## Warning in write_preflib(long_preferences(long, vote, id_cols = ID, rank_col =</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="do">## Rank, : Missing `title`: the PrefLib format requires a title to be specified.</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="do">## Using `NA`.</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="do">## Warning in write_preflib(long_preferences(long, vote, id_cols = ID, rank_col =</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="do">## Rank, : Missing `publication_date`, using today's date(2025-09-03).</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="do">## Warning in write_preflib(long_preferences(long, vote, id_cols = ID, rank_col =</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="do">## Rank, : Missing `modification_date`, using today's date(2025-09-03).</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="do">## Warning in write_preflib(long_preferences(long, vote, id_cols = ID, rank_col =</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="do">## Rank, : Missing `modification_type`: the PrefLib format requires this to be</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="do">## specified. Using `NA`.</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="do">## # FILE NAME: NA</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="do">## # TITLE: NA</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="do">## # DESCRIPTION: </span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="do">## # DATA TYPE: soc</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="do">## # MODIFICATION TYPE: NA</span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a><span class="do">## # RELATES TO: </span></span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="do">## # RELATED FILES: </span></span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="do">## # PUBLICATION DATE: 2025-09-03</span></span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a><span class="do">## # MODIFICATION DATE: 2025-09-03</span></span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a><span class="do">## # NUMBER ALTERNATIVES: 3</span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a><span class="do">## # NUMBER VOTERS: 3</span></span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a><span class="do">## # NUMBER UNIQUE ORDERS: 3</span></span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a><span class="do">## # ALTERNATIVE NAME 1: Allie</span></span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a><span class="do">## # ALTERNATIVE NAME 2: Beatriz</span></span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a><span class="do">## # ALTERNATIVE NAME 3: Charles</span></span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a><span class="do">## 1: 1,2,3</span></span>
<span id="cb14-31"><a href="#cb14-31" tabindex="-1"></a><span class="do">## 1: 3,2,1</span></span>
<span id="cb14-32"><a href="#cb14-32" tabindex="-1"></a><span class="do">## 1: 2,1,3</span></span></code></pre></div>
<p>Note that this produces four warnings. Each warning corresponds to a field which is required by the official PrefLib format, but may not be necessary for internal use-cases. If your goal is to publish some data to PrefLib, these warnings must be resolved.</p>
</div>
</div>
<div class="section level2">
<h2 id="projects-using-prefio">Projects using <strong>prefio</strong>
<a class="anchor" aria-label="anchor" href="#projects-using-prefio"></a>
</h2>
<p>The <a href="https://github.com/fleverest/nswla_preflib" class="external-link">PrefLib formatter for New South Wales Legislative Assembly Elections</a> uses <strong>prefio</strong> to process the public election datasets into PrefLib formats.</p>
<p>The R package <a href="https://github.com/fleverest/elections.dtree" class="external-link">elections.dtree</a> uses <strong>prefio</strong> for tracking ballots observed by the Dirichlet-tree model.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Bennett2007" class="csl-entry">
Bennett, J., and S. Lanning. 2007. “The Netflix Prize.” In <em><span class="nocase">Proceedings of the KDD Cup Workshop 2007</span></em>, 3–6. ACM.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=prefio" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/fleverest/prefio/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/fleverest/prefio/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing prefio</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Floyd Everest <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2726-6736" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Heather Turner <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1256-3375" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Damjan Vukcevic <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-7780-9586" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=prefio" class="external-link"><img src="https://www.r-pkg.org/badges/version/prefio" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/fleverest/prefio/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/fleverest/prefio/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/fleverest/prefio?branch=main" class="external-link"><img src="https://codecov.io/gh/fleverest/prefio/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Floyd Everest, Heather Turner, Damjan Vukcevic.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
